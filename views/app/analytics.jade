extends ../layout

include appWrapper

block content
	+navbar()
	
	+appWrapper(2)
		.panel.panel-default
			.panel-heading
				h1.panel-title= app.name
					|  Traffic Analysis
			table.table
				thead
					tr
						th IP
						th Start
						th Time
						th Down
						th Up
						th Hostname
						th Request
				tbody
					for row in analytics
						tr
							td= row.ip
							td
								= row.start.getDate()
								| /
								= row.start.getMonth()+1
								|  
								= row.start.getHours()
								| :
								= row.start.getMinutes()
								| :
								= row.start.getSeconds()
								| s
							td= row.end - row.start
								| ms
							td
								- size = row.resSize
								if size < 1024
									= size
									| b
								else
									- size = size / 1024
									if size < 1024
										= size.toFixed(2)
										| kb
									else
										- size = size / 1024
										= size.toFixed(2)
										| mb
							td= row.reqSize
								| b
							td= row.hostname
							td= row.request
								|  
								= row.statusCode
								|  
								if row.url.length > 10
									= row.url.substr(0,10-1)
									| &hellip;
								else
									= row.url